<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro"  name="balance_bot">


<xacro:include filename="inertial_macros.xacro" />

<material name ="white">
<color rgba="1 1 1 1"/>
</material>
<material name ="orange">
    <color rgba="1 0.3 0.1 1"/>
</material>
<material name ="blue">
    <color rgba="0.2 0.2 1 1"/>
</material>
<material name ="black">
    <color rgba="0 0 0 1"/>
</material>

<!-- base link -->
<link name ="base_link">  
</link>

<!-- chassis -->
<joint name ="chassis_joint" type="fixed">
    <parent link="base_link"/>
    <child link="chassis"/>
    <origin xyz="0 0 0.1"/>
</joint>
<link name ="chassis">
    <visual>
        <origin xyz="0 0 0.15"/>
        <geometry>
            <box size="0.1 0.2 0.3"/>
        </geometry>
        <material name="white"/>
    </visual>
    <collision>
        <origin xyz="0 0 0.15"/>
        <geometry> 
            <box size="0.1 0.2 0.3"/>
        </geometry>        
    </collision>
    <xacro:inertial_box mass="0.5" x="0.1" y="0.2" z="0.15">
        <origin xyz="0 0 0.15"/>
    </xacro:inertial_box>
</link>
<gazebo refrence="chassis">
    <material>Gazebo/white</material>
</gazebo>

<!-- right wheel -->
<joint name ="right_wheel_joint" type="continuous">
    <parent link="base_link"/>
    <child link="right_wheel"/>
    <origin xyz="0 -0.125 0.1" rpy="${pi/2} 0 0"/>
    <axis xyz="0 0 -1"></axis>
</joint>
<link name ="right_wheel">
    <visual>
        <geometry>
            <cylinder radius="0.1" length="0.05"/>
        </geometry>
        <material name="blue"/>
    </visual>
    <collision>
        <geometry>
            <cylinder radius="0.1" length="0.05"/>
        </geometry>
        <surface>
            <friction>
                <ode>
                    <mu>1.0</mu>      <mu2>1.0</mu2>    
                </ode>
            </friction>
        </surface>
    </collision>
    <xacro:inertial_cylinder mass="0.1" length="0.05" radius="0.1">
        <origin xyz="0 0 0" rpy="0 0 0"/>
    </xacro:inertial_cylinder>
</link>
<gazebo refrence="right_wheel">
    <material>Gazebo/blue</material>
</gazebo>

<!-- left wheel -->
<joint name ="left_wheel_joint" type="continuous">
    <parent link="base_link"/>
    <child link="left_wheel"/>
    <origin xyz="0 0.125 0.1" rpy="-${pi/2} 0 0"/>
    <axis xyz="0 0 1"></axis>
</joint>
<link name ="left_wheel">
    <visual>
        <geometry>
            <cylinder radius="0.1" length="0.05"/>
        </geometry>
        <material name="blue"/>
    </visual>
    <collision>
        <geometry>
            <cylinder radius="0.1" length="0.05"/>
        </geometry>
        <surface>
            <friction>
                <ode>
                    <mu>1.0</mu>      <mu2>1.0</mu2>    
                </ode>
            </friction>
        </surface>
    </collision>
    <xacro:inertial_cylinder mass="0.1" length="0.05" radius="0.1">
        <origin xyz="0 0 0" rpy="0 0 0"/>
    </xacro:inertial_cylinder>
</link>
<gazebo refrence="left_wheel">
    <material>Gazebo/blue</material>
</gazebo>

</robot>